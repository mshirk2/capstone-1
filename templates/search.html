{% extends 'base.html' %}

{% block content %}

<h1>Find a Restroom</h1>
<div id="search-container" class="col mt-3 px-0">

    <!-- Search Form -->
    <div id="search-form">

        <!-- Geocoder -->
        <div class="form-group" id="geocoder-container">
            <div id="geocoder" class="geocoder"></div>
        </div>

        <!-- Search Filters -->
        <div class="row">
            <div class="col form-group">
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="checkbox" id="accessible"/>
                    <label class="form-check-label" for="accessible"><i title="Accessible" class="fa-brands fa-accessible-icon ml-2"></i>Accessible</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="checkbox" id="unisex"/>
                    <label class="form-check-label" for="unisex"><i title="Unisex/Gender Neutral" class="fa-solid fa-transgender"></i>Unisex</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="checkbox" id="changing-table"/>
                    <label class="form-check-label" for="changing-table"><i title="Changing Table" class="fa-solid fa-baby"></i>Changing Table</label>
                </div>
            </div>
        </div>

        <!-- Search button -->
        <div class="form-group my-3">
            <button class="btn btn-primary px-5" id="search-button" type="submit">Search</button>
            <!-- Save Search will go to signup page if user is not logged in -->
            <a 
                {% if g.user %}
                href='#' 
                {% else %}
                href='/signup'
                {% endif %}
                class="btn btn-outline-secondary px-3" id="save-search-button">
                Save Search
            </a>
        </div>
    </div>


    <!-- Search Results -->
    <div id="results-container" class="row d-flex flex-column flex-row-reverse mt-2">

        <!-- Results Map -->
        <div id="map-container" class="col col-12 mb-2">
            <div id="map"></div>
            <script> mapboxgl.accessToken = '{{ mapboxToken }}'</script>
        </div>

        <!-- Results List -->
        <div id="list-container" class="col pr-md-0">
            <ul id="results-list" class="list-group"></ul>
        </div>

    </div>

</div>

{% endblock %}